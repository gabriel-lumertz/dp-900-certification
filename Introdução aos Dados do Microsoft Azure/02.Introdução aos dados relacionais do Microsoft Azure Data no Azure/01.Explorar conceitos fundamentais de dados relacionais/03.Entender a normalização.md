# Entender a normalização

Normalização é um termo usado por profissionais de banco de dados para um processo de design de esquema que minimiza a duplicação de dados e impõe a integridade dos dados.

Embora existam muitas regras complexas que definem o processo de refatoração de dados em vários níveis (ou *formulários*) de normalização, uma definição simples para fins práticos é:

1. Separar cada *entidade* em sua própria tabela.
2. Separe cada *atributo* discreto em sua própria coluna.
3. Identifique exclusivamente cada instância de entidade (linha) usando uma *chave primária*.
4. Utilize colunas *de chave estrangeira* para vincular entidades relacionadas.

Para entender os princípios fundamentais da normalização, suponha que a tabela a seguir represente uma planilha que uma empresa usa para acompanhar suas vendas.

![Diagrama mostrando dados de pedido em uma única tabela não normalizada.](https://learn.microsoft.com/pt-br/training/wwl-data-ai/explore-relational-data-offerings/media/unnormalized-data.png)

Observe que os detalhes do cliente e do produto são duplicados para cada item individual vendido; e que o nome do cliente e o endereço postal e o nome do produto e o preço são combinados nas mesmas células de planilha.

Agora vamos examinar como a normalização muda a maneira como os dados são armazenados.

![Diagrama mostrando dados de ordem em um esquema tabular normalizado.](https://learn.microsoft.com/pt-br/training/wwl-data-ai/explore-relational-data-offerings/media/normalized-data.png)

Cada entidade representada nos dados (cliente, produto, ordem de vendas e item de linha) é armazenada em sua própria tabela e cada atributo discreto dessas entidades está em sua própria coluna.

Registrar cada instância de uma entidade como uma linha em uma tabela específica de entidade remove a duplicação de dados. Por exemplo, para alterar o endereço de um cliente, você só precisa modificar o valor em uma única linha.

A decomposição de atributos em colunas individuais garante que cada valor seja restrito a um tipo de dados apropriado – por exemplo, os preços do produto devem ser valores decimais, enquanto as quantidades de item de linha devem ser números inteiros. Além disso, a criação de colunas individuais fornece um nível útil de granularidade nos dados para consulta - por exemplo, você pode filtrar facilmente os clientes para aqueles que vivem em uma cidade específica.

As instâncias de cada entidade são identificadas exclusivamente por uma ID ou outro valor de chave, conhecido como chave *primária*; e quando uma entidade faz referência a outra (por exemplo, um pedido tem um cliente associado), a chave primária da entidade relacionada é armazenada como uma *chave estrangeira*. Você pode pesquisar o endereço do cliente (que é armazenado apenas uma vez) para cada registro na tabela **Pedidos** fazendo referência ao registro correspondente na tabela **Cliente** . Normalmente, um RDBMS (sistema de gerenciamento de banco de dados relacional) pode impor a integridade referencial para garantir que um valor inserido em um campo de chave estrangeira tenha uma chave primária correspondente existente na tabela relacionada, por exemplo, impedindo pedidos para clientes inexistentes.

Em alguns casos, uma chave (primária ou estrangeira) pode ser definida como uma chave *composta* com base em uma combinação exclusiva de várias colunas. Por exemplo, a tabela **LineItem** no exemplo acima usa uma combinação exclusiva de **OrderNo** e **ItemNo** para identificar um item de linha de uma ordem individual.